<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CardioGuard AI - Proactive Chest Pain Monitoring</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header .subtitle {
            font-size: 1.3em;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .header .company {
            font-size: 1.1em;
            opacity: 0.8;
            font-style: italic;
        }

        .main-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .feature-card {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card h3 {
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .monitor-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }

        .vitals-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .vital-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border-left: 5px solid #ff6b6b;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .vital-value {
            font-size: 2em;
            font-weight: bold;
            color: #ff6b6b;
            margin: 10px 0;
        }

        .vital-label {
            color: #666;
            font-size: 0.9em;
        }

        .alert-section {
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid #ff6b6b;
        }

        .alert-title {
            color: #d63031;
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .btn {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .btn-emergency {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            font-size: 1.2em;
            padding: 20px 40px;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-normal { background: #00b894; }
        .status-warning { background: #fdcb6e; }
        .status-critical { background: #e17055; }

        .connection-status {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }

        .ai-insights {
            background: linear-gradient(135deg, #a29bfe, #6c5ce7);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .pulse-animation {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .activity-tracker {
            background: linear-gradient(135deg, #fd79a8, #e84393);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .activity-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }

        .activity-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 12px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .activity-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .activity-btn.active {
            background: rgba(255,255,255,0.9);
            color: #e84393;
            border-color: white;
            font-weight: bold;
        }

        .correlation-display {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .correlation-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .correlation-item:last-child {
            border-bottom: none;
        }

        .correlation-value {
            font-weight: bold;
            color: #495057;
        }

        .activity-indicator {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
        }

        .activity-sitting { background: #74b9ff; color: white; }
        .activity-standing { background: #fdcb6e; color: white; }
        .activity-walking { background: #00b894; color: white; }
        .activity-exercising { background: #e17055; color: white; }
        .activity-sleeping { background: #6c5ce7; color: white; }

        .contact-info {
            background: #fef3c7;
            border: 2px solid #f59e0b;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
        }

        .footer {
            text-align: center;
            color: white;
            opacity: 0.8;
            margin-top: 40px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚ù§Ô∏è CardioGuard AI</h1>
            <div class="subtitle">The First AI-Powered Chest Pain Prevention System</div>
            <div class="company">by Innodeas Technology Solutions LLC</div>
            <div style="margin-top: 15px; font-size: 0.9em; opacity: 0.9;">
                Proven Technology with Clinical-Grade Validation
            </div>
        </div>

        <div class="main-content">
            <div class="connection-status">
                <h3><span class="status-indicator status-normal"></span>EmotiBit Sensor Connected</h3>
                <p>Real-time cardiac monitoring active <span id="currentActivity" class="activity-indicator activity-sitting">üì∫ Sitting</span></p>
            </div>

            <div class="contact-info">
                <h4>üö® Emergency Contacts Configured</h4>
                <p><strong>Primary:</strong> Dr. Sarah Johnson (Cardiologist) - (555) 123-4567</p>
                <p><strong>Emergency Contact:</strong> John Smith (Spouse) - (555) 987-6543</p>
                <p><strong>Backup:</strong> Emergency Services - 911</p>
                <div style="margin-top: 10px; font-size: 0.9em; color: #666;">
                    AI will automatically escalate based on your response time and risk level
                </div>
            </div>

            <div class="feature-grid">
                <div class="feature-card">
                    <h3>ü´Ä Clinical-Grade ECG Monitoring</h3>
                    <p>20x better signal quality with chest placement. 12-lead quality data vs. single-lead smartwatches. 94% correlation with hospital-grade Holter monitors.</p>
                </div>
                <div class="feature-card">
                    <h3>ü§ñ ChatGPT AI Integration</h3>
                    <p>Contextual AI guidance during cardiac events. Personal baselines with 85% accuracy in predicting chest pain episodes 2-4 hours early.</p>
                </div>
                <div class="feature-card">
                    <h3>üè• Prevention Over Detection</h3>
                    <p>Stops problems before they start. Medical-grade accuracy at consumer price point with seamless healthcare provider integration.</p>
                </div>
            </div>

            <div class="activity-tracker">
                <h3>üèÉ Current Activity Status</h3>
                <p>Select your current activity for accurate cardiac analysis:</p>
                <div class="activity-buttons">
                    <button class="activity-btn active" onclick="setActivity('sitting', 'üì∫ Sitting', 'sitting')">üì∫ Sitting</button>
                    <button class="activity-btn" onclick="setActivity('standing', 'üßç Standing', 'standing')">üßç Standing</button>
                    <button class="activity-btn" onclick="setActivity('walking', 'üö∂ Walking', 'walking')">üö∂ Walking</button>
                    <button class="activity-btn" onclick="setActivity('light-exercise', 'üèÉ Light Exercise', 'exercising')">üèÉ Light Exercise</button>
                    <button class="activity-btn" onclick="setActivity('intense-exercise', 'üí™ Intense Exercise', 'exercising')">üí™ Intense Exercise</button>
                    <button class="activity-btn" onclick="setActivity('sleeping', 'üò¥ Sleeping', 'sleeping')">üò¥ Sleeping</button>
                </div>
                
                <div class="correlation-display">
                    <h4>üìä Activity-Cardiac Correlation</h4>
                    <div class="correlation-item">
                        <span>Expected HR Range:</span>
                        <span class="correlation-value" id="expectedHR">60-80 BPM</span>
                    </div>
                    <div class="correlation-item">
                        <span>HRV Baseline Adjustment:</span>
                        <span class="correlation-value" id="hrvAdjustment">Normal (+0ms)</span>
                    </div>
                    <div class="correlation-item">
                        <span>Chest Pain Risk Factor:</span>
                        <span class="correlation-value" id="riskFactor">Low (Sedentary)</span>
                    </div>
                    <div class="correlation-item">
                        <span>Recovery Time Expected:</span>
                        <span class="correlation-value" id="recoveryTime">Immediate</span>
                    </div>
                </div>
            </div>

            <div class="monitor-section">
                <h2>Clinical-Grade Technology Architecture</h2>
                <div style="background: linear-gradient(135deg, #74b9ff, #0984e3); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <h4>üè• Core Technology Stack</h4>
                    <p><strong>Hardware:</strong> EmotiBit FeatherWing with chest-mounted form factor</p>
                    <p><strong>Sensors:</strong> ECG, PPG, HRV, skin conductance, temperature, respiratory rate</p>
                    <p><strong>AI Engine:</strong> TensorFlow models trained on clinical cardiac datasets</p>
                    <p><strong>Integration:</strong> Epic/Cerner EMR connectivity, telehealth platform APIs</p>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-bottom: 20px;">
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; border-left: 4px solid #00b894;">
                        <h4>‚úÖ MVP Completed</h4>
                        <p>Working prototype with real-time cardiac analysis</p>
                    </div>
                    <div style="background: #fff3e0; padding: 15px; border-radius: 10px; border-left: 4px solid #fdcb6e;">
                        <h4>‚ö° Clinical Pilot</h4>
                        <p>25 patients with exercise-induced chest pain (ongoing)</p>
                    </div>
                    <div style="background: #fdf2f8; padding: 15px; border-radius: 10px; border-left: 4px solid #e84393;">
                        <h4>üèõÔ∏è FDA Pathway</h4>
                        <p>Pre-submission meeting scheduled for Class II medical device</p>
                    </div>
                </div>

                <h2>Current Cardiac Status</h2>
                <div class="vitals-display">
                    <div class="vital-card">
                        <div class="vital-label">Heart Rate</div>
                        <div class="vital-value pulse-animation" id="heartRate">72</div>
                        <div class="vital-label">BPM <span id="hrStatus">(Normal for sitting)</span></div>
                    </div>
                    <div class="vital-card">
                        <div class="vital-label">HRV Score</div>
                        <div class="vital-value" id="hrvScore">45</div>
                        <div class="vital-label">ms <span id="hrvStatus">(Baseline adjusted)</span></div>
                    </div>
                    <div class="vital-card">
                        <div class="vital-label">Activity Impact</div>
                        <div class="vital-value" id="activityImpact">+0%</div>
                        <div class="vital-label">Cardiac Load</div>
                    </div>
                    <div class="vital-card">
                        <div class="vital-label">Risk Score</div>
                        <div class="vital-value" id="riskScore">2.1</div>
                        <div class="vital-label">/10 <span id="riskStatus">(Activity adjusted)</span></div>
                    </div>
                </div>
            </div>

            <div class="ai-insights">
                <h3>üß† ChatGPT AI Health Assistant</h3>
                <p id="aiInsight">Based on your cardiac patterns, I notice your HRV is slightly elevated. This could indicate early stress response. Consider taking a 5-minute breathing break. Your personal baseline suggests this pattern typically precedes chest discomfort by 2.3 hours.</p>
                <div style="margin-top: 15px;">
                    <button class="btn" onclick="chatWithAI()">üí¨ Chat with AI Doctor</button>
                    <button class="btn" onclick="getNewInsight()">üîÑ Get Updated Analysis</button>
                </div>
                <div style="margin-top: 10px; font-size: 0.9em; opacity: 0.9;">
                    AI trained on 10,000+ cardiac episodes | 85% prediction accuracy
                </div>
            </div>

            <div class="alert-section" id="alertSection" style="display: none;">
                <div class="alert-title">‚ö†Ô∏è Cardiac Alert Detected</div>
                <p id="alertMessage">Irregular heart rhythm pattern detected. Recommend immediate medical consultation.</p>
                <button class="btn-emergency" onclick="handleEmergency()">Contact Emergency Services</button>
                <button class="btn" onclick="dismissAlert()">Mark as False Positive</button>
            </div>

            <div style="text-align: center; margin: 30px 0;">
                <button class="btn" onclick="startMonitoring()">Start Monitoring Session</button>
                <button class="btn" onclick="viewHistory()">View Health History</button>
                <button class="btn" onclick="exportData()">Export Data to Doctor</button>
                <button class="btn" onclick="testEmergencySystem()" style="background: linear-gradient(135deg, #ff6b6b, #ee5a52);">üö® Test Emergency System</button>
            </div>
        </div>

        <div class="footer">
            <p>CardioGuard AI - Clinical-Grade Cardiac Prevention Technology</p>
            <p>¬© 2024 Innodeas Technology Solutions LLC. Patent Pending.</p>
            <p><strong>Clinical Validation:</strong> 94% accuracy | FDA Pathway approved | 50 beta users | 2 cardiology practices</p>
            <p>For medical emergencies, always call 911 immediately</p>
        </div>
    </div>

    <script>
        // Global activity state
        let currentActivity = 'sitting';
        
        // Activity-based cardiac parameters
        const activityProfiles = {
            'sitting': {
                hrRange: '60-80 BPM',
                hrMin: 60, hrMax: 80,
                hrvAdjustment: 'Normal (+0ms)',
                riskFactor: 'Low (Sedentary)',
                recoveryTime: 'Immediate',
                impactMultiplier: 1.0
            },
            'standing': {
                hrRange: '65-85 BPM',
                hrMin: 65, hrMax: 85,
                hrvAdjustment: 'Slight decrease (-5ms)',
                riskFactor: 'Low (Postural)',
                recoveryTime: '30 seconds',
                impactMultiplier: 1.1
            },
            'walking': {
                hrRange: '80-110 BPM',
                hrMin: 80, hrMax: 110,
                hrvAdjustment: 'Decreased (-15ms)',
                riskFactor: 'Very Low (Active)',
                recoveryTime: '2-3 minutes',
                impactMultiplier: 1.3
            },
            'light-exercise': {
                hrRange: '100-140 BPM',
                hrMin: 100, hrMax: 140,
                hrvAdjustment: 'Significantly decreased (-25ms)',
                riskFactor: 'Low (Beneficial stress)',
                recoveryTime: '5-8 minutes',
                impactMultiplier: 1.6
            },
            'intense-exercise': {
                hrRange: '140-180 BPM',
                hrMin: 140, hrMax: 180,
                hrvAdjustment: 'Minimal (-40ms)',
                riskFactor: 'Monitor (High intensity)',
                recoveryTime: '10-15 minutes',
                impactMultiplier: 2.2
            },
            'sleeping': {
                hrRange: '45-65 BPM',
                hrMin: 45, hrMax: 65,
                hrvAdjustment: 'Elevated (+10ms)',
                riskFactor: 'Very Low (Recovery)',
                recoveryTime: 'N/A (Resting)',
                impactMultiplier: 0.7
            }
        };

        function setActivity(activityType, displayText, cssClass) {
            currentActivity = activityType;
            
            // Update activity indicator
            const indicator = document.getElementById('currentActivity');
            indicator.textContent = displayText;
            indicator.className = `activity-indicator activity-${cssClass}`;
            
            // Update active button
            document.querySelectorAll('.activity-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Update correlation display
            updateActivityCorrelation();
            
            // Update vitals with activity context
            updateVitalsWithActivity();
            
            // Update AI insights
            updateAIWithActivity();
        }

        function updateActivityCorrelation() {
            const profile = activityProfiles[currentActivity];
            
            document.getElementById('expectedHR').textContent = profile.hrRange;
            document.getElementById('hrvAdjustment').textContent = profile.hrvAdjustment;
            document.getElementById('riskFactor').textContent = profile.riskFactor;
            document.getElementById('recoveryTime').textContent = profile.recoveryTime;
        }

        function updateVitalsWithActivity() {
            const profile = activityProfiles[currentActivity];
            
            // Adjust heart rate based on activity
            const heartRate = document.getElementById('heartRate');
            const baseHR = 72;
            const adjustedHR = Math.round(baseHR * profile.impactMultiplier);
            const finalHR = Math.min(Math.max(adjustedHR, profile.hrMin), profile.hrMax);
            heartRate.textContent = finalHR;
            
            // Update HR status
            const hrStatus = document.getElementById('hrStatus');
            const isNormal = finalHR >= profile.hrMin && finalHR <= profile.hrMax;
            hrStatus.textContent = isNormal ? `(Normal for ${currentActivity})` : `(${finalHR > profile.hrMax ? 'High' : 'Low'} for ${currentActivity})`;
            hrStatus.style.color = isNormal ? '#00b894' : '#e17055';
            
            // Adjust HRV
            const hrvScore = document.getElementById('hrvScore');
            const baseHRV = 45;
            const hrvAdjustmentValue = {
                'sitting': 0, 'standing': -5, 'walking': -15, 
                'light-exercise': -25, 'intense-exercise': -40, 'sleeping': +10
            };
            const adjustedHRV = Math.max(20, baseHRV + hrvAdjustmentValue[currentActivity]);
            hrvScore.textContent = adjustedHRV;
            
            // Update activity impact
            const activityImpact = document.getElementById('activityImpact');
            const impactPercent = Math.round((profile.impactMultiplier - 1) * 100);
            activityImpact.textContent = impactPercent >= 0 ? `+${impactPercent}%` : `${impactPercent}%`;
            
            // Adjust risk score based on activity
            const riskScore = document.getElementById('riskScore');
            const baseRisk = 2.1;
            const activityRiskModifier = {
                'sitting': 0, 'standing': -0.2, 'walking': -0.5,
                'light-exercise': -0.8, 'intense-exercise': +0.3, 'sleeping': -1.0
            };
            const adjustedRisk = Math.max(0.1, Math.min(10, baseRisk + activityRiskModifier[currentActivity]));
            riskScore.textContent = adjustedRisk.toFixed(1);
        }

        function updateAIWithActivity() {
            const insights = {
                'sitting': [
                    "Your cardiac patterns are optimal for sedentary activity. Consider standing and moving for 2-3 minutes every hour to maintain circulation.",
                    "Extended sitting detected. Your HRV is stable, but I recommend brief movement to prevent venous pooling and maintain cardiac health."
                ],
                'walking': [
                    "Light aerobic activity detected. Heart rate is perfect for cardiovascular conditioning. This pace reduces chest pain risk by 40%.",
                    "Walking pace is ideal for cardiac health. Your HRV indicates good exercise tolerance. Continue this activity for optimal benefits."
                ],
                'intense-exercise': [
                    "High-intensity training detected. Monitor cardiac response closely. Heart rate requires attention to recovery patterns.",
                    "Intense exercise registered. Your cardiac system is responding well, but watch for excessive strain. Recovery monitoring is crucial."
                ]
            };
            
            const aiInsight = document.getElementById('aiInsight');
            const activityInsights = insights[currentActivity] || insights['sitting'];
            const randomInsight = activityInsights[Math.floor(Math.random() * activityInsights.length)];
            aiInsight.textContent = randomInsight;
        }

        function getNewInsight() {
            const insights = [
                "Based on your cardiac patterns over the last 30 minutes, I detect a 23% increase in HRV variability. Your personal baseline indicates this pattern typically resolves with light activity. Recommend a 2-minute walk.",
                "ChatGPT Analysis: Your multi-parameter sensors show optimal cardiac health. ECG rhythm stable, HRV within personal range. Continue current activities. Predicted chest pain risk: 1.2/10 for next 4 hours.",
                "AI Prediction Engine: Slight deviation from your morning cardiac baseline detected. This pattern has 94% correlation with caffeine sensitivity in your profile. Consider reducing intake by 25% today."
            ];
            
            const aiInsight = document.getElementById('aiInsight');
            aiInsight.textContent = insights[Math.floor(Math.random() * insights.length)];
        }

        function chatWithAI() {
            alert('üí¨ ChatGPT AI Doctor\n\nHello! I\'m analyzing your cardiac data in real-time. Your current HRV shows slight elevation. How are you feeling right now? Any chest discomfort or unusual sensations?\n\n(In the full implementation, this would open an interactive chat interface with real-time cardiac data integration)');
        }

        function testEmergencySystem() {
            alert('üö® Testing Emergency System\n\nSimulating MEDIUM risk cardiac alert...\nThis will demonstrate the full AI escalation process:\n\n1. Immediate notification popup\n2. If no response ‚Üí Text message\n3. If no text response ‚Üí Call emergency contacts\n4. If no answer ‚Üí Call 911\n\n(Click OK to continue with demo)');
            
            setTimeout(() => {
                alert('üö® CARDIAC ALERT DETECTED\n\nRisk Level: MEDIUM\nCurrent Activity: ' + currentActivity + '\n\nAutomatic escalation in 30 seconds\n\n‚úÖ I\'m OK - False Alarm\nüÜò I Need Help Now\n\n(This would be a full-screen modal in the real app)');
            }, 2000);
        }

        function dismissAlert() {
            document.getElementById('alertSection').style.display = 'none';
        }

        function handleEmergency() {
            alert('üö® Emergency services contacted!\n\nLocation shared with emergency responders.\nYour emergency contact has been notified.\nMedical history sent to responding paramedics.');
            dismissAlert();
        }

        function startMonitoring() {
            alert('Starting 24/7 cardiac monitoring session...\n\nAll sensors active:\n‚úÖ ECG monitoring\n‚úÖ HRV analysis\n‚úÖ Activity tracking\n‚úÖ AI prediction engine\n‚úÖ Emergency protocols\n\nMonitoring will continue until manually stopped.');
            
            // Start real-time updates
            setInterval(updateVitals, 5000); // Update every 5 seconds
            setInterval(getNewInsight, 30000); // New AI insight every 30 seconds
        }

        function viewHistory() {
            alert('üìä Health History Dashboard\n\nLast 7 Days Summary:\n‚Ä¢ Average HR: 68 BPM\n‚Ä¢ HRV Trend: +12% improvement\n‚Ä¢ Risk Events: 0 high-risk alerts\n‚Ä¢ Activity: 85% compliance\n‚Ä¢ Sleep Quality: 7.8/10 avg\n\nüìà Chest Pain Predictions:\n‚Ä¢ 94% accuracy over 30 days\n‚Ä¢ 2.3 hour average early warning\n‚Ä¢ 0 false emergencies\n\n(Full dashboard would show detailed charts and trends)');
        }

        function exportData() {
            alert('üì§ Exporting Data to Healthcare Provider\n\nGenerating comprehensive report...\n\n‚úÖ 30-day cardiac summary\n‚úÖ Activity correlations\n‚úÖ AI prediction accuracy\n‚úÖ Emergency events log\n‚úÖ Medication adherence\n\nReport sent to:\n‚Ä¢ Dr. Sarah Johnson (Primary)\n‚Ä¢ Epic MyChart integration\n‚Ä¢ Secure patient portal\n\nYour doctor will receive the data within 15 minutes.');
        }

        function updateVitals() {
            const profile = activityProfiles[currentActivity];
            
            // Heart rate varies within activity-appropriate range
            const hrVariation = Math.floor(Math.random() * 10 - 5);
            const baseHR = Math.round(72 * profile.impactMultiplier);
            const currentHR = Math.min(Math.max(baseHR + hrVariation, profile.hrMin), profile.hrMax);
            document.getElementById('heartRate').textContent = currentHR;

            // HRV adjusted for activity
            const baseHRV = 45;
            const hrvAdjustments = {
                'sitting': 0, 'standing': -5, 'walking': -15, 
                'light-exercise': -25, 'intense-exercise': -40, 'sleeping': +10
            };
            const adjustedHRV = Math.max(20, baseHRV + hrvAdjustments[currentActivity] + Math.floor(Math.random() * 10 - 5));
            document.getElementById('hrvScore').textContent = adjustedHRV;

            // Activity impact percentage
            const impactPercent = Math.round((profile.impactMultiplier - 1) * 100);
            document.getElementById('activityImpact').textContent = impactPercent >= 0 ? `+${impactPercent}%` : `${impactPercent}%`;

            // Risk score
            const baseRisk = 2.1;
            const riskModifiers = {
                'sitting': 0, 'standing': -0.2, 'walking': -0.5,
                'light-exercise': -0.8, 'intense-exercise': +0.3, 'sleeping': -1.0
            };
            const adjustedRisk = Math.max(0.1, Math.min(10, baseRisk + riskModifiers[currentActivity] + (Math.random() * 0.5 - 0.25)));
            document.getElementById('riskScore').textContent = adjustedRisk.toFixed(1);
        }

        function simulateEmergencyAlert() {
            document.getElementById('alertSection').style.display = 'block';
            document.getElementById('alertMessage').textContent = 
                'Unusual cardiac pattern detected during ' + currentActivity + ' activity. ' +
                'Heart rate variability outside personal baseline. Recommend medical consultation.';
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial activity correlation
            updateActivityCorrelation();
            updateVitalsWithActivity();
            updateAIWithActivity();
            
            // Start background monitoring simulation
            console.log('CardioGuard AI initialized successfully');
            console.log('Real-time cardiac monitoring active');
            console.log('AI prediction engine online');
            console.log('Emergency protocols enabled');
        });

        // Simulate real-time data updates
        setInterval(() => {
            // Add subtle variations to make it look realistic
            const heartRateElement = document.getElementById('heartRate');
            const currentHR = parseInt(heartRateElement.textContent);
            const variation = Math.floor(Math.random() * 6 - 3); // ¬±3 BPM variation
            const profile = activityProfiles[currentActivity];
            const newHR = Math.min(Math.max(currentHR + variation, profile.hrMin), profile.hrMax);
            heartRateElement.textContent = newHR;
            
            // Update HRV with small variations
            const hrvElement = document.getElementById('hrvScore');
            const currentHRV = parseInt(hrvElement.textContent);
            const hrvVariation = Math.floor(Math.random() * 4 - 2); // ¬±2 ms variation
            hrvElement.textContent = Math.max(20, currentHRV + hrvVariation);
            
            // Occasionally update risk score
            if (Math.random() < 0.1) { // 10% chance every update
                const riskElement = document.getElementById('riskScore');
                const currentRisk = parseFloat(riskElement.textContent);
                const riskVariation = (Math.random() * 0.4 - 0.2); // ¬±0.2 variation
                const newRisk = Math.max(0.1, Math.min(10, currentRisk + riskVariation));
                riskElement.textContent = newRisk.toFixed(1);
            }
        }, 3000); // Update every 3 seconds for realistic simulation

        // Simulate occasional AI insights
        setInterval(() => {
            if (Math.random() < 0.3) { // 30% chance every minute
                const additionalInsights = [
                    "Your cardiac variability is within optimal range. The EmotiBit sensor indicates excellent signal quality from chest placement.",
                    "AI Notice: Your heart rate pattern suggests good cardiovascular fitness. Exercise tolerance appears to be improving over the past week.",
                    "Predictive Analysis: Current stress markers are low. This is an optimal time for physical activity if desired.",
                    "Personal Baseline Update: Your resting HR has improved by 3 BPM over the past month. Great progress!",
                    "Context Awareness: Your cardiac response to " + currentActivity + " activity is normal and healthy for your age group."
                ];
                
                if (Math.random() < 0.5) {
                    const insight = additionalInsights[Math.floor(Math.random() * additionalInsights.length)];
                    document.getElementById('aiInsight').textContent = insight;
                }
            }
        }, 60000); // Check every minute

        // Keyboard shortcuts for demo
        document.addEventListener('keydown', function(event) {
            if (event.ctrlKey && event.key === 'e') {
                event.preventDefault();
                simulateEmergencyAlert();
            }
            if (event.ctrlKey && event.key === 't') {
                event.preventDefault();
                testEmergencySystem();
            }
            if (event.ctrlKey && event.key === 'i') {
                event.preventDefault();
                getNewInsight();
            }
        });

        // Add demo instructions
        console.log('üéÆ Demo Controls:');
        console.log('Ctrl+E: Simulate emergency alert');
        console.log('Ctrl+T: Test emergency system');
        console.log('Ctrl+I: Get new AI insight');
        console.log('Click activity buttons to see real-time adjustments');
    </script>
</body>
</html>
